<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Chat2Cash ‚Äî WhatsApp Sales Message Generator</title>

<!-- Google Analytics -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BLY9BRVXYK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-BLY9BRVXYK');
</script>
<!-- End Google Analytics -->

<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet" />
<style>

:root {
  --green: #25D366;
  --green-glow: rgba(37,211,102,0.14);
  --black: #090c0a;
  --card: #131813;
  --border: rgba(255,255,255,0.07);
  --text: #eef2ef;
  --muted: #6b7d70;
  --accent: #FFD60A;
  --fire: #FF6B35;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }

body {
  background: var(--black);
  color: var(--text);
  font-family: 'DM Sans', sans-serif;
  min-height: 100vh;
  overflow-x: hidden;
}

body::before {
  content: '';
  position: fixed; inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
  pointer-events: none; z-index: 0;
}

.glow {
  position: fixed; top: -180px; left: 50%;
  transform: translateX(-50%);
  width: 600px; height: 480px;
  background: radial-gradient(ellipse, rgba(37,211,102,0.11) 0%, transparent 68%);
  pointer-events: none; z-index: 0;
  animation: gp 7s ease-in-out infinite;
}
@keyframes gp { 0%,100%{opacity:.5} 50%{opacity:1} }

/* HEADER */
header {
  position: relative; z-index: 2;
  text-align: center;
  padding: 52px 20px 36px;
}
.logo {
  display: inline-flex; align-items: center; gap: 10px;
  margin-bottom: 22px;
  animation: fd .55s ease both;
}
.logo-box {
  width: 42px; height: 42px; background: var(--green);
  border-radius: 13px; display: flex; align-items: center; justify-content: center;
  font-size: 21px; box-shadow: 0 4px 20px rgba(37,211,102,0.35);
}
.logo-text { font-family: 'Syne', sans-serif; font-size: 23px; font-weight: 800; letter-spacing: -0.03em; }
.logo-text span { color: var(--green); }

.badge {
  display: inline-flex; align-items: center; gap: 6px;
  background: var(--green-glow); border: 1px solid rgba(37,211,102,0.22);
  border-radius: 100px; padding: 5px 15px;
  font-size: 11px; color: var(--green);
  text-transform: uppercase; letter-spacing: .08em; font-weight: 600;
  margin-bottom: 18px; animation: fd .55s .08s ease both;
}
.dot { width:6px; height:6px; border-radius:50%; background:var(--green); animation: pulse 1.6s infinite; }
@keyframes pulse { 0%,100%{opacity:1} 50%{opacity:.2} }

h1 {
  font-family: 'Syne', sans-serif;
  font-size: clamp(1.85rem, 5.5vw, 3.1rem);
  font-weight: 800; line-height: 1.1; letter-spacing: -0.025em;
  animation: fd .55s .14s ease both;
}
h1 em { font-style: normal; color: var(--green); }

.sub {
  margin: 12px auto 0; max-width: 450px; color: var(--muted);
  font-size: clamp(13.5px, 2vw, 15.5px); line-height: 1.65;
  animation: fd .55s .2s ease both;
}
.usage-row {
  margin-top: 20px; display: flex; align-items: center; justify-content: center;
  animation: fd .55s .26s ease both;
}
.usage-pill {
  display: inline-flex; align-items: center; gap: 6px;
  background: rgba(255,214,10,.07); border: 1px solid rgba(255,214,10,.22);
  border-radius: 100px; padding: 5px 14px;
  font-size: 12px; color: var(--accent); font-weight: 600;
}

@keyframes fd { from{opacity:0;transform:translateY(-13px)} to{opacity:1;transform:translateY(0)} }
@keyframes fu { from{opacity:0;transform:translateY(16px)} to{opacity:1;transform:translateY(0)} }

/* MAIN */
main { position: relative; z-index: 2; max-width: 640px; margin: 0 auto; padding: 0 16px 90px; }

/* STYLE TOGGLE */
.toggle-card {
  background: var(--card); border: 1px solid var(--border);
  border-radius: 18px; padding: 20px; margin-bottom: 12px;
  animation: fd .55s .32s ease both;
}
.toggle-title { font-size: 11px; text-transform: uppercase; letter-spacing: .08em; color: var(--muted); font-weight: 600; margin-bottom: 12px; }
.style-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
.style-opt {
  padding: 14px 10px; background: rgba(255,255,255,.03);
  border: 1.5px solid var(--border); border-radius: 12px;
  cursor: pointer; text-align: center; transition: all .2s;
  color: var(--muted); user-select: none;
}
.style-opt:hover { border-color: rgba(255,255,255,.16); color: var(--text); }
.style-opt .s-icon { font-size: 24px; display: block; margin-bottom: 5px; }
.style-opt .s-name { font-family: 'Syne', sans-serif; font-size: 13px; font-weight: 700; display: block; }
.style-opt .s-desc { font-size: 11px; margin-top: 3px; opacity: .65; display: block; }
.style-opt.sel-fire   { background: rgba(255,107,53,.09); border-color: rgba(255,107,53,.48); color: var(--fire); }
.style-opt.sel-global { background: var(--green-glow); border-color: rgba(37,211,102,.42); color: var(--green); }

/* FORM CARD */
.form-card {
  background: var(--card); border: 1px solid var(--border);
  border-radius: 20px; padding: 26px 22px 24px; margin-bottom: 12px;
  transition: border-color .25s; animation: fd .55s .38s ease both;
}
.form-card:focus-within { border-color: rgba(37,211,102,.28); }

.sec-head { display: flex; align-items: center; gap: 10px; margin-bottom: 22px; }
.sec-num {
  width: 27px; height: 27px; border-radius: 50%; flex-shrink: 0;
  background: var(--green-glow); border: 1px solid rgba(37,211,102,.3);
  display: flex; align-items: center; justify-content: center;
  font-family: 'Syne', sans-serif; font-size: 12px; font-weight: 800; color: var(--green);
}
.sec-title { font-family: 'Syne', sans-serif; font-size: 15px; font-weight: 700; }

.field { margin-bottom: 18px; }
.field:last-of-type { margin-bottom: 0; }

.field label {
  display: block; font-size: 12px; text-transform: uppercase; letter-spacing: .07em;
  color: var(--muted); font-weight: 600; margin-bottom: 7px;
}
.field label .opt { font-weight: 400; text-transform: none; letter-spacing: 0; font-size: 11px; }

.field input,
.field select,
.field textarea {
  width: 100%;
  background: rgba(255,255,255,.04);
  border: 1px solid var(--border);
  border-radius: 10px; padding: 12px 14px;
  color: var(--text); font-family: 'DM Sans', sans-serif; font-size: 15px;
  outline: none; transition: border-color .2s, background .2s;
  -webkit-appearance: none; appearance: none;
}
.field input:focus,
.field select:focus,
.field textarea:focus { border-color: var(--green); background: rgba(37,211,102,.04); }
.field input::placeholder,
.field textarea::placeholder { color: #2e3830; }
.field textarea { resize: vertical; min-height: 70px; line-height: 1.55; }
.field select option { background: #181f19; color: var(--text); }
.field input.err,
.field select.err,
.field textarea.err { border-color: #ff4545 !important; }

.row-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 18px; }
.row-2 .field { margin-bottom: 0; }

.field-hint { font-size: 11.5px; color: var(--muted); margin-top: 6px; line-height: 1.5; }

.divider { height: 1px; background: var(--border); margin: 22px 0; }

/* GENERATE BUTTON */
.btn-gen {
  width: 100%; padding: 15px 20px;
  background: var(--green); color: #000;
  font-family: 'Syne', sans-serif; font-weight: 800; font-size: 16px;
  border: none; border-radius: 14px; cursor: pointer; letter-spacing: .02em;
  transition: transform .15s, box-shadow .15s; margin-top: 6px;
  display: flex; align-items: center; justify-content: center; gap: 8px;
}
.btn-gen:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(37,211,102,.33); }
.btn-gen:active { transform: translateY(0); }

/* LOADER */
.loader { display: none; align-items: center; justify-content: center; gap: 9px; padding: 15px; color: var(--green); font-size: 14px; }
.loader.show { display: flex; }
.spin { width:18px; height:18px; border:2px solid rgba(37,211,102,.2); border-top-color:var(--green); border-radius:50%; animation:sp .65s linear infinite; }
@keyframes sp { to{transform:rotate(360deg)} }

/* OUTPUT */
#outputSection { display: none; animation: fu .45s ease both; }

.out-card { background: var(--card); border: 1px solid var(--border); border-radius: 20px; padding: 22px; margin-bottom: 12px; }
.out-card.hi { border-color: rgba(37,211,102,.36); }

.out-top { display: flex; align-items: center; justify-content: space-between; margin-bottom: 13px; gap: 8px; }
.out-top h3 { font-family: 'Syne', sans-serif; font-size: 14px; font-weight: 700; color: var(--green); display: flex; align-items: center; gap: 7px; flex-wrap: wrap; }

.style-chip { font-size: 10px; padding: 3px 9px; border-radius: 100px; font-weight: 700; text-transform: uppercase; letter-spacing: .06em; }
.chip-fire   { background: rgba(255,107,53,.14); color: var(--fire); border: 1px solid rgba(255,107,53,.28); }
.chip-global { background: var(--green-glow); color: var(--green); border: 1px solid rgba(37,211,102,.28); }

.btn-copy {
  flex-shrink: 0; background: rgba(255,255,255,.06); border: 1px solid var(--border);
  border-radius: 8px; padding: 7px 14px; color: var(--text); font-size: 12px;
  font-family: 'DM Sans', sans-serif; cursor: pointer; transition: all .2s; font-weight: 500; white-space: nowrap;
}
.btn-copy:hover { background: rgba(255,255,255,.11); }
.btn-copy.ok { color: var(--green); border-color: rgba(37,211,102,.38); }

.out-msg {
  background: rgba(255,255,255,.03); border: 1px solid rgba(255,255,255,.05);
  border-radius: 10px; padding: 14px; font-size: 14px; line-height: 1.8;
  white-space: pre-wrap; color: #b8c9bc; word-break: break-word;
}
.link-box {
  background: rgba(37,211,102,.06); border: 1px solid rgba(37,211,102,.2);
  border-radius: 10px; padding: 12px 14px; font-size: 13px; color: var(--green);
  word-break: break-all; font-family: monospace; margin-bottom: 12px;
}
.btn-wa {
  display: flex; align-items: center; justify-content: center; gap: 10px;
  width: 100%; padding: 15px; background: var(--green); color: #000;
  font-family: 'Syne', sans-serif; font-weight: 800; font-size: 15px;
  border: none; border-radius: 12px; cursor: pointer; text-decoration: none;
  transition: transform .15s, box-shadow .15s;
}
.btn-wa:hover { transform: translateY(-2px); box-shadow: 0 8px 28px rgba(37,211,102,.36); }

.btn-reset {
  width: 100%; padding: 13px; background: transparent; border: 1px solid var(--border);
  border-radius: 12px; color: var(--muted); font-size: 14px; font-family: 'DM Sans', sans-serif;
  cursor: pointer; transition: all .2s; margin-top: 4px;
}
.btn-reset:hover { border-color: rgba(255,255,255,.18); color: var(--text); }

/* MODAL */
.overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,.84); backdrop-filter: blur(6px); z-index: 100; align-items: center; justify-content: center; padding: 20px; }
.overlay.show { display: flex; }
.modal { background: #161d17; border: 1px solid rgba(255,214,10,.26); border-radius: 24px; padding: 36px 26px; max-width: 400px; width: 100%; text-align: center; animation: pop .3s cubic-bezier(.34,1.56,.64,1) both; }
@keyframes pop { from{opacity:0;transform:scale(.86)} to{opacity:1;transform:scale(1)} }
.m-icon { font-size: 50px; margin-bottom: 14px; }
.m-badge { display: inline-block; margin-bottom: 16px; background: rgba(255,214,10,.09); border: 1px solid rgba(255,214,10,.26); border-radius: 100px; padding: 6px 18px; font-size: 12px; color: var(--accent); font-weight: 700; text-transform: uppercase; letter-spacing: .06em; }
.modal h2 { font-family: 'Syne', sans-serif; font-size: 21px; font-weight: 800; margin-bottom: 10px; }
.modal p { color: var(--muted); font-size: 14px; line-height: 1.65; margin-bottom: 20px; }
.pro-list { list-style: none; text-align: left; margin-bottom: 22px; }
.pro-list li { display: flex; align-items: center; gap: 9px; font-size: 13.5px; padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,.05); color: var(--text); }
.pro-list li:last-child { border-bottom: none; }
.pro-list .ck { color: var(--green); font-size: 15px; }
.btn-up { width: 100%; padding: 14px; background: var(--accent); color: #000; font-family: 'Syne', sans-serif; font-weight: 800; font-size: 15px; border: none; border-radius: 12px; cursor: pointer; transition: transform .15s; }
.btn-up:hover { transform: translateY(-2px); }
.btn-mc { width: 100%; padding: 10px; background: transparent; border: none; color: var(--muted); cursor: pointer; font-size: 13px; margin-top: 8px; font-family: 'DM Sans', sans-serif; }

/* FOOTER */
footer { position: relative; z-index: 2; text-align: center; padding: 18px 20px 30px; font-size: 12px; color: #2a3a2e; }
footer span { color: var(--green); }

@media (max-width: 480px) {
  header { padding: 36px 16px 28px; }
  .row-2 { grid-template-columns: 1fr; }
}

</style>
</head>
<body>

<div class="glow"></div>

<header>
  <div class="logo">
    <div class="logo-box">üí¨</div>
    <div class="logo-text">Chat<span>2</span>Cash</div>
  </div>
  <div class="badge"><span class="dot"></span> Global WhatsApp Sales Tool ¬∑ Free Beta</div>
  <h1>Generate Messages That<br><em>Actually Sell</em></h1>
  <p class="sub">Fill in your product details. Get a high-converting WhatsApp sales message + ready-to-share link. In seconds.</p>
  <div class="usage-row">
    <div class="usage-pill">‚ö° <span id="usageCount">3</span> free generations left today</div>
  </div>
</header>

<main>

  <!-- STYLE TOGGLE -->
  <div class="toggle-card">
    <div class="toggle-title">Choose your sales personality</div>
    <div class="style-grid">
      <div class="style-opt sel-fire" id="opt-fire" onclick="setStyle('fire')">
        <span class="s-icon">üî•</span>
        <span class="s-name">Nigerian Fire</span>
        <span class="s-desc">Urgency ¬∑ Scarcity ¬∑ High energy</span>
      </div>
      <div class="style-opt" id="opt-global" onclick="setStyle('global')">
        <span class="s-icon">üåç</span>
        <span class="s-name">Global Pro</span>
        <span class="s-desc">Persuasive ¬∑ Calm ¬∑ Trust-building</span>
      </div>
    </div>
  </div>

  <!-- FORM -->
  <div class="form-card" id="formCard">

    <div class="sec-head">
      <div class="sec-num">1</div>
      <div class="sec-title">Product Details</div>
    </div>

    <!-- 1. Product name -->
    <div class="field">
      <label>Product / Service *</label>
      <input type="text" id="product" placeholder="e.g. Brightwash Detergent, Logo Design, Waist Trainer" maxlength="100" />
    </div>

    <!-- 2. Quantity (optional) -->
    <div class="field">
      <label>Quantity / Size <span class="opt">(Optional)</span></label>
      <input type="text" id="quantity" placeholder="e.g. 1kg, 500ml, 1 pack, 1 session" />
    </div>

    <!-- 3 & 4. Price + Currency side by side -->
    <div class="row-2">
      <div class="field">
        <label>Price *</label>
        <input type="number" id="price" placeholder="e.g. 5000" min="0" />
      </div>
      <div class="field">
        <label>Currency</label>
        <select id="currency">
          <option value="‚Ç¶">‚Ç¶ ‚Äî Nigeria</option>
          <option value="$">$ ‚Äî USD</option>
          <option value="¬£">¬£ ‚Äî UK</option>
          <option value="KSh">KSh ‚Äî Kenya</option>
          <option value="GH‚Çµ">GH‚Çµ ‚Äî Ghana</option>
          <option value="R">R ‚Äî South Africa</option>
          <option value="‚Ç¨">‚Ç¨ ‚Äî Euro</option>
          <option value="‚Çπ">‚Çπ ‚Äî India</option>
        </select>
      </div>
    </div>

    <!-- 5. Target customer -->
    <div class="field">
      <label>Target Customer *</label>
      <input type="text" id="target" placeholder="e.g. Busy families, students, small business owners" maxlength="120" />
    </div>

    <!-- 6. Main benefit -->
    <div class="field">
      <label>Main Benefit (what problem does it solve?) *</label>
      <input type="text" id="benefit" placeholder="e.g. Cleaner clothes, better confidence, fast results" maxlength="150" />
    </div>

    <!-- 7. Delivery speed -->
    <div class="field">
      <label>Delivery Speed *</label>
      <input type="text" id="speed" placeholder="e.g. Same day, within 24 hours, 3 days" />
    </div>

    <div class="divider"></div>

    <!-- Section 2: WhatsApp number -->
    <div class="sec-head">
      <div class="sec-num">2</div>
      <div class="sec-title">Your WhatsApp Number</div>
    </div>

    <!-- 8. WhatsApp number -->
    <div class="field">
      <label>WhatsApp Number (with country code) *</label>
      <input type="tel" id="waNumber" placeholder="e.g. 2348162199138" maxlength="20" />
      <div class="field-hint">
        Include your country code ‚Äî no + sign, no spaces.<br>
        Nigeria: 234 ¬∑ Kenya: 254 ¬∑ Ghana: 233 ¬∑ UK: 44 ¬∑ USA: 1 ¬∑ SA: 27
      </div>
    </div>

    <div class="loader" id="loader">
      <div class="spin"></div> Crafting your sales weapon‚Ä¶
    </div>

    <button class="btn-gen" id="genBtn" onclick="generate()">
      ‚ö° Generate Sales Message + WhatsApp Link
    </button>

  </div>

  <!-- OUTPUT -->
  <div id="outputSection">

    <div class="out-card hi">
      <div class="out-top">
        <h3>üî• Sales Message <span class="style-chip" id="styleChip"></span></h3>
        <button class="btn-copy" onclick="doCopy('salesMsg', this)">Copy</button>
      </div>
      <div class="out-msg" id="salesMsg"></div>
    </div>

    <div class="out-card">
      <div class="out-top">
        <h3>üîó WhatsApp Click-to-Chat Link</h3>
        <button class="btn-copy" onclick="copyLink(this)">Copy Link</button>
      </div>
      <div class="link-box" id="linkBox"></div>
      <a class="btn-wa" id="waBtn" href="#" target="_blank" rel="noopener">
        <svg width="19" height="19" viewBox="0 0 24 24" fill="#000"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
        Open in WhatsApp
      </a>
    </div>

    <button class="btn-reset" onclick="resetAll()">‚Üê Generate for another product</button>

  </div>

</main>

<!-- UPGRADE MODAL -->
<div class="overlay" id="limitModal">
  <div class="modal">
    <div class="m-icon">üîí</div>
    <div class="m-badge">Free Limit Reached</div>
    <h2>Upgrade to Chat2Cash Pro</h2>
    <p>You've used your 3 free generations for today. Upgrade for unlimited access and premium features.</p>
    <ul class="pro-list">
      <li><span class="ck">‚úì</span> Unlimited daily generations</li>
      <li><span class="ck">‚úì</span> 5 premium message templates</li>
      <li><span class="ck">‚úì</span> Nigerian Fire + Global Pro styles</li>
      <li><span class="ck">‚úì</span> Bulk WhatsApp link generator</li>
      <li><span class="ck">‚úì</span> Priority email support</li>
    </ul>
    <button class="btn-up" onclick="doUpgrade()">üöÄ Get Pro Access ‚Äî Coming Soon</button>
    <button class="btn-mc" onclick="closeModal()">Not now, maybe later</button>
  </div>
</div>

<footer>
  Chat2Cash ¬© 2026 ¬∑ Built for sellers worldwide ¬∑ Powered by <span>smart persuasion</span>
</footer>

<script>
let mode = 'fire';
const LIMIT = 3;
const KEY = 'c2c_v2';

// Usage tracking
function getUsage() {
  try {
    const d = JSON.parse(localStorage.getItem(KEY) || '{}');
    const t = new Date().toDateString();
    return d.date === t ? d : { date: t, count: 0 };
  } catch { return { date: new Date().toDateString(), count: 0 }; }
}
function saveUsage(d) { try { localStorage.setItem(KEY, JSON.stringify(d)); } catch {} }
function refreshCount() {
  document.getElementById('usageCount').textContent = Math.max(0, LIMIT - getUsage().count);
}
refreshCount();

// Style toggle
function setStyle(s) {
  mode = s;
  document.getElementById('opt-fire').className   = 'style-opt' + (s === 'fire'   ? ' sel-fire'   : '');
  document.getElementById('opt-global').className = 'style-opt' + (s === 'global' ? ' sel-global' : '');
}

// Smart benefit enhancer
function enhance(product, benefit) {
  const p = product.toLowerCase();
  const b = benefit.trim();
  if (p.includes('detergent') || p.includes('soap'))               return 'get cleaner, fresher clothes without stress';
  if (p.includes('shoe') || p.includes('sneaker'))                 return 'step out with total confidence and style';
  if (p.includes('cream') || p.includes('skincare') || p.includes('lotion')) return 'achieve smoother, glowing skin fast';
  if (p.includes('course') || p.includes('training') || p.includes('class')) return 'gain high-income skills quickly';
  if (p.includes('food') || p.includes('drink') || p.includes('zobo') || p.includes('juice')) return 'enjoy great taste with zero stress';
  if (p.includes('hair'))                                           return 'look stunning and feel your best every day';
  if (p.includes('waist') || p.includes('trainer'))                return 'get a slimmer waist without harsh dieting';
  if (b.length < 12) return b + ' easily and without stress';
  return b;
}

// Scarcity line
function scarcity() {
  const friday = (() => {
    const d = new Date();
    const diff = (5 - d.getDay() + 7) % 7 || 7;
    d.setDate(d.getDate() + diff);
    return d.toLocaleDateString('en-NG', { weekday: 'long', month: 'short', day: 'numeric' });
  })();
  const opts = [
    `‚ö†Ô∏è Only ${Math.floor(Math.random()*4)+2} spots left this week!`,
    `üî• Just ${Math.floor(Math.random()*3)+1} pieces remaining at this price!`,
    `‚è∞ This offer closes ${friday}!`,
    `üì£ Taking only ${Math.floor(Math.random()*5)+3} new orders this week.`,
  ];
  return opts[Math.floor(Math.random() * opts.length)];
}

// Message builders
function buildFire(d) {
  const priceStr = d.qty
    ? `${d.cur}${Number(d.price).toLocaleString()} for ${d.qty}`
    : `${d.cur}${Number(d.price).toLocaleString()}`;
  return `üö® ATTENTION ${d.target.toUpperCase()}!

Are you still struggling? The solution is right here.

Introducing *${d.product}* üí™

‚úÖ ${d.benefit}
üí∞ Price: ${priceStr}
‚ö° Delivery: ${d.speed}

${scarcity()}

üëá Don't wait. Message us NOW before it's too late.

Reply *ORDER* and we handle the rest üî•`.trim();
}

function buildGlobal(d) {
  const priceStr = d.qty
    ? `${d.cur}${Number(d.price).toLocaleString()} for ${d.qty}`
    : `starting from ${d.cur}${Number(d.price).toLocaleString()}`;
  return `Hi there üëã

I wanted to share something that might be exactly what you need.

We're offering *${d.product}* ‚Äî designed for ${d.target}.

Here's what it does for you:
‚Üí ${d.benefit}

üí∞ Price: ${priceStr}
üì¶ Delivery: ${d.speed}

We have limited availability. If you're interested, just reply and I'll guide you through everything.

Looking forward to hearing from you üòä`.trim();
}

// WhatsApp link builder
function buildLink(number, currency, message) {
  let n = number.replace(/\D/g, '');
  if (currency === '‚Ç¶' && n.startsWith('0')) n = '234' + n.slice(1);
  return `https://wa.me/${n}?text=${encodeURIComponent(message)}`;
}

// Validation
function validate() {
  const ids = ['product', 'price', 'target', 'benefit', 'speed', 'waNumber'];
  let ok = true;
  ids.forEach(id => {
    const el = document.getElementById(id);
    if (!el.value.trim()) {
      el.classList.add('err');
      setTimeout(() => el.classList.remove('err'), 2500);
      ok = false;
    }
  });
  return ok;
}

function shake() {
  const b = document.getElementById('genBtn');
  b.style.animation = 'shk .38s ease';
  setTimeout(() => b.style.animation = '', 380);
}

// MAIN GENERATE
function generate() {
  const usage = getUsage();
  if (usage.count >= LIMIT) {
    document.getElementById('limitModal').classList.add('show');
    return;
  }
  if (!validate()) { shake(); return; }

  const d = {
    product : document.getElementById('product').value.trim(),
    price   : document.getElementById('price').value.trim(),
    cur     : document.getElementById('currency').value,
    qty     : document.getElementById('quantity').value.trim(),
    target  : document.getElementById('target').value.trim(),
    speed   : document.getElementById('speed').value.trim(),
    waNum   : document.getElementById('waNumber').value.trim(),
    benefit : enhance(
      document.getElementById('product').value.trim(),
      document.getElementById('benefit').value.trim()
    )
  };

  const btn = document.getElementById('genBtn');
  const ldr = document.getElementById('loader');
  btn.style.display = 'none';
  ldr.classList.add('show');

  setTimeout(() => {
    const msg  = mode === 'fire' ? buildFire(d) : buildGlobal(d);
    const link = buildLink(d.waNum, d.cur, msg);

    document.getElementById('salesMsg').textContent = msg;
    document.getElementById('linkBox').textContent  = link;
    document.getElementById('waBtn').href           = link;

    const chip = document.getElementById('styleChip');
    chip.textContent = mode === 'fire' ? 'üî• Nigerian Fire' : 'üåç Global Pro';
    chip.className   = 'style-chip ' + (mode === 'fire' ? 'chip-fire' : 'chip-global');

    ldr.classList.remove('show');
    btn.style.display = '';

    document.querySelector('.toggle-card').style.display = 'none';
    document.getElementById('formCard').style.display    = 'none';
    document.getElementById('outputSection').style.display = 'block';

    usage.count++;
    saveUsage(usage);
    refreshCount();

    window.scrollTo({ top: 0, behavior: 'smooth' });

    // Track generation event in Google Analytics
    gtag('event', 'message_generated', {
      'event_category': 'engagement',
      'event_label': mode === 'fire' ? 'Nigerian Fire' : 'Global Pro',
      'value': 1
    });
  }, 1100);
}

// Copy helpers
function doCopy(id, btn) {
  const text = document.getElementById(id).textContent;
  navigator.clipboard.writeText(text).then(() => {
    btn.textContent = '‚úÖ Copied!'; btn.classList.add('ok');
    setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('ok'); }, 2000);
  }).catch(() => {
    const r = document.createRange();
    r.selectNode(document.getElementById(id));
    window.getSelection().removeAllRanges();
    window.getSelection().addRange(r);
    document.execCommand('copy');
    window.getSelection().removeAllRanges();
    btn.textContent = '‚úÖ Copied!'; btn.classList.add('ok');
    setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('ok'); }, 2000);
  });
}
function copyLink(btn) {
  navigator.clipboard.writeText(document.getElementById('linkBox').textContent).then(() => {
    btn.textContent = '‚úÖ Copied!'; btn.classList.add('ok');
    setTimeout(() => { btn.textContent = 'Copy Link'; btn.classList.remove('ok'); }, 2000);
  });
}

// Reset
function resetAll() {
  document.querySelector('.toggle-card').style.display = '';
  document.getElementById('formCard').style.display    = '';
  document.getElementById('outputSection').style.display = 'none';
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// Modal
function closeModal() { document.getElementById('limitModal').classList.remove('show'); }
function doUpgrade()  { 
  gtag('event', 'upgrade_clicked', { 'event_category': 'monetization' });
  alert('Pro access coming very soon! üöÄ'); closeModal(); 
}

// Shake animation
const ss = document.createElement('style');
ss.textContent = '@keyframes shk{0%,100%{transform:translateX(0)}20%{transform:translateX(-7px)}40%{transform:translateX(7px)}60%{transform:translateX(-5px)}80%{transform:translateX(5px)}}';
document.head.appendChild(ss);
</script>

</body>
</html>
